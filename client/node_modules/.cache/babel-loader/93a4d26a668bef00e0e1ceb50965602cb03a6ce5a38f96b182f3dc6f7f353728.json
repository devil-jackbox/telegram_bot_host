{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation}from'react-router-dom';import{Bot,Home,Settings,Menu,X,Wifi,WifiOff,Code,Activity,AlertTriangle}from'lucide-react';import{useSocket}from'../contexts/SocketContext';import{useBots}from'../contexts/BotContext';import CreateBotModal from'./CreateBotModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{let{children}=_ref;const[sidebarOpen,setSidebarOpen]=useState(false);const[showCreateModal,setShowCreateModal]=useState(false);const location=useLocation();const{isConnected}=useSocket();const{bots}=useBots();const navigation=[{name:'Dashboard',href:'/',icon:Home},{name:'Settings',href:'/settings',icon:Settings}];const isActive=href=>{if(href==='/'){return location.pathname==='/';}return location.pathname.startsWith(href);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 lg:hidden \".concat(sidebarOpen?'block':'hidden'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-75\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-y-0 left-0 flex w-64 flex-col bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-16 items-center justify-between px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:\"Bot Platform\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(SidebarContent,{navigation:navigation,bots:bots,isActive:isActive,onClose:()=>setSidebarOpen(false)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow bg-white border-r border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-16 items-center px-4\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:\"Bot Platform\"})}),/*#__PURE__*/_jsx(SidebarContent,{navigation:navigation,bots:bots,isActive:isActive})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:pl-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"-m-2.5 p-2.5 text-gray-700 lg:hidden\",onClick:()=>setSidebarOpen(true),children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 gap-x-4 self-stretch lg:gap-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-x-4 lg:gap-x-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-2\",children:[isConnected?/*#__PURE__*/_jsx(Wifi,{size:16,className:\"text-green-500\"}):/*#__PURE__*/_jsx(WifiOff,{size:16,className:\"text-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:isConnected?'Connected':'Disconnected'})]})})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",children:children})})]}),/*#__PURE__*/_jsx(CreateBotModal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false)})]});};const SidebarContent=_ref2=>{let{navigation,bots,isActive,onClose}=_ref2;const getBotIcon=language=>{switch(language){case'javascript':case'typescript':return/*#__PURE__*/_jsx(Code,{size:16});case'python':return/*#__PURE__*/_jsx(Bot,{size:16});default:return/*#__PURE__*/_jsx(Bot,{size:16});}};const getBotStatusIcon=bot=>{if(bot.status==='running'){return/*#__PURE__*/_jsx(Activity,{size:12,className:\"text-green-500\"});}if(bot.status==='error'){return/*#__PURE__*/_jsx(AlertTriangle,{size:12,className:\"text-red-500\"});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 space-y-1 px-2 py-4\",children:navigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(Link,{to:item.href,onClick:onClose,className:\"group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors \".concat(isActive(item.href)?'bg-primary-100 text-primary-900':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(Icon,{size:20,className:\"mr-3\"}),item.name]},item.name);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 p-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3\",children:[\"Your Bots (\",bots.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[bots.map(bot=>/*#__PURE__*/_jsxs(Link,{to:\"/bot/\".concat(bot.id),onClick:onClose,className:\"group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors \".concat(isActive(\"/bot/\".concat(bot.id))?'bg-primary-100 text-primary-900':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mr-3\",children:[getBotIcon(bot.language),getBotStatusIcon(bot)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"truncate\",children:bot.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 capitalize\",children:bot.language})]})]},bot.id)),bots.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 px-2 py-2\",children:\"No bots yet. Create your first bot!\"})]})]})]});};export default Layout;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}